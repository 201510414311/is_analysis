# 实验二：图书管理系统用例建模
学号  | 班级 | 姓名  
:-:|:-:|:-:
201510414311    |     软工三班      |   彭启瑞
### 1.用例图：图书管理系统
#### 1.1PlantUMl源代码如下：

```
@startuml
@startuml
left to right direction
skinparam packageStyle rectangle
actor 管理员
actor 读者
rectangle  {
  管理员--> (借书)
  管理员-->(还书)
管理员-->(查询书目)
管理员-->(维护读者信息)
管理员-->(维护图书信息)
(查询书目)<--读者
(查询书目).>(借书)
(查询书目).>(还书)
(查询借阅信息)<--读者
(图书续借)<--读者
(图书续借).>(借书)
(图书预定操作)<--读者

}
@enduml
```
#### 1.2用例图如下：
![](./bookmanage.png '描述')
### 2. 参与者说明：
#### 2.1 图书管理员:
    主要职责是：管理图书馆的图书信息和用户的信息，并对读者的借书和还书要求进行处理。
#### 2.2 读者:
    主要职责是：查询图书，借还图书，图书预定
### 3. 用例规约表
#### 3.1“借书”用例
用例名称  | 借书   
:-|:- 
|参与者|图书管理员(主要参与者）、读者（次要参与者)|
|前置条件|图书管理员已被识别和授权|
|后置条件|存储借书记录，更新库存数量，所借书状态为借出|
|主事件流|1.图书管理员将读者借书卡提供给系统;<br>2.系统验证读者身份和借书条件；<br>3.图书管理员将读者所借图书输入系统；<br>4.系统记录借书信息，并且修改图书的状态和此种书的可借数量；<br>5.系统累加读者的借书数量；<br>6.重复3~5,直到图书管理员确认全部图书登记完毕；<br>7.系统打印借书清单，交易成功完成|
|备选事件流|2a.非法读者<br>1.系统提示错误并拒绝接收输入<br>2b.读者借书已达限额<br>1.系统提示错误并拒绝接收输入<br>5a.读者借书数已达限额<br>1.系统提示，并要求结束输入<br>2.图书管理员确认结束完成<br>5b.读者有该书的预定记录<br>1.删除该书的预定信息|
##### “购入图书”用例流程图源码如下：
```
@startuml
start
:读者提供借书卡;
:管理员录入借书身份;
if(是否能借) then(yes)
:借书;
:打印借书清单;
else
:不能借书;
end
endif
stop
@enduml
```
##### “购入图书”用例流程图如下：
![](./lend.png '描述')
#### 3.2“还书”用例
用例名称  | 还书   
:-|:- 
|参与者|图书管理员(主要参与者）、读者（次要参与者)|
|前置条件|图书管理员已被识别和授权|
|后置条件|存储借书记录，更新库存数量，修改书状态为可借|
|主事件流||
|参与者动作|系统行为|
|1.图书管理员将图书提供给系统<br><br>5.重复步骤1，直到退出|2.系统根据借书记录验证图书信息；<br>3.系统提供借阅该书的读者信息；<br>4.系统修改借书记录，更新该书的状态及此种书的可借数量;
##### “归还图书”用例流程图源码如下：
```
@startuml
start
:扫描图书;
:系统验证图书信息;
:系统提供借阅该书的读者信息;
:更新图书信息;
stop
@enduml
```
##### “归还图书”用例流程图如下：
![](./return.png '描述')
#### 3.3“查询书目”用例
用例名称  | 查询书目   
:-|:- 
|参与者|图书管理员、读者|
|前置条件||
|后置条件|系统展示图书信息|
|主事件流|1.用户输入图书名字或者id<br>2.系统系统扫描书目<br>3.系统返回相应的信息|
#### 3.4“续借”用例
用例名称  | 图书续借   
:-|:- 
|参与者|图书管理员、读者|
|前置条件|读者已借图书|
|后置条件|更新读者借书信息|
|主事件流|1.图书管理员将读者借书卡提供给系统<br>2.系统验证读者身份和借书条件；<br>3.图书管理员将续借图书输入系统<br>4.系统修改 读者借书信息|
|备选事件流|3a.读者续借时间已经用完<br>1.系统提示错误并拒绝续借|
##### “续借图书”用例流程图源码如下：
```
@startuml
start
:扫描借书卡;
:系统验证读者信息和借书条件;
if(可以续借图书) then(yes)
:更新借书信息;
else
:系统拒绝续借;
end
endif
stop
@enduml
```
##### “续借图书”用例流程图如下：
![](./relend.png '描述')
#### 3.5“维护读者信息”用例
用例名称  | 维护读者信息   
:-|:- 
|参与者|图书管理员|
|前置条件|图书管理员已被识别和授权|
|后置条件|更新读者信息|
|主事件流|1.图书管理员登录系统<br>2.检查读者的信息；<br>3.修改读者信息<br>4.修改完成，系统更新读者信息|
#### 3.6“维护图书信息”用例
用例名称  | 维护图书信息   
:-|:- 
|参与者|图书管理员|
|前置条件|图书管理员已被识别和授权|
|后置条件|更新图书信息|
|主事件流|1.图书管理员登录系统<br>2.增加，修改或删除图书；<br>3.系统记录并修改图书信息<br>|
|备选事件流|2a.删除的图书为已借图书<br>1.系统提示错误并拒绝删除|
#### 3.7“查询借阅信息”用例
用例名称  | 查询借阅信息   
:-|:- 
|参与者|读者|
|前置条件|读者持有借书卡|
|后置条件|显示读者借阅信息|
|主事件流|1.读者登录系统<br>2.查询借阅信息；<br>3.系统显示读者信息<br>|
|备选事件流|1a.无效读者<br>1.系统提示错误并拒绝查询|
#### 3.8“图书预定操作”用例
用例名称  | 图书预定操作  
:-|:- 
|参与者|读者|
|前置条件|读者持有借书卡|
|后置条件|系统修改图书状态为预定或者取消预订|
|主事件流|1.读者登录系统<br>2.对读书进行预定操作；<br>3.系统修改图书信息<br>|
|备选事件流|1a.无效读者<br>1.系统提示错误并拒绝查询<br>2a.书籍已被借出<br>1.系统提示无法预订并取消操作|

